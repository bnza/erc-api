<?xml version="1.0" encoding="UTF-8" ?>

<resources xmlns="https://api-platform.com/schema/metadata/resources-3.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://api-platform.com/schema/metadata/resources-3.0
        https://api-platform.com/schema/metadata/resources-3.0.xsd">
    <resource class="App\Entity\Job\Import\ZooarchaeologyBone" uriTemplate="/jobs/import/zooarchaeology/bones" shortName="Import">
        <!--        <normalizationContext>-->
        <!--            <values>-->
        <!--                <value name="groups">-->
        <!--                    <values>-->
        <!--                        <value>Import:File:read</value>-->
        <!--                    </values>-->
        <!--                </value>-->
        <!--            </values>-->
        <!--        </normalizationContext>-->
        <operations>
            <operation class="ApiPlatform\Metadata\Get" input="Bnza\JobManagerBundle\Entity\Job"
                uriTemplate="/jobs/import/zooarchaeology/bones/{id}"/>
            <operation class="ApiPlatform\Metadata\GetCollection"/>
            <operation class="ApiPlatform\Metadata\Post" input="App\DTO\Job\Import\ImportZooarchaeologyBoneDTO"
                deserialize="false" processor="App\State\Job\Import\ZooarchaeologyBoneProcessor">
                <inputFormats>
                    <format name="multipart">multipart/form-data</format>
                </inputFormats>
            </operation>
        </operations>
    </resource>
</resources>
